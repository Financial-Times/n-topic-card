{{#concept @this}}
<section data-trackable="concept"
	aria-label="{{name}}"
	{{#if responsiveGrids}}data-o-grid-colspan="{{responsiveGrids}}"{{/if}}
	class="
		topic-card__myft
		{{#unless items.length}}topic-card--empty {{#if flags.myftGroupEmptyTopics}}myft-grouped-topic{{/if}}{{/unless}}
		{{#if lazyLoadImages}} topic-card--lazy-loading-images{{/if}}
		{{classes}}"
	{{#if prioritised}}data-prioritised{{/if}}>
		<header class="topic-card__myft-header">
			<p class="topic-card__myft-title">
				<a class="topic-card__concept-link" href="{{url}}" data-trackable="concept-link" aria-label="Go to list of all articles about {{#if prefLabel}}{{prefLabel}}{{else}}{{name}}{{/if}}">
					{{#if prefLabel}}{{prefLabel}}{{else}}{{name}}{{/if}}
				</a>
			</p>

			{{#ifAll flags flags.myFtApiWrite}}
			<div class="topic-card__myft-meta">
				<div class="topic-card__myft-btn topic-card__myft-btn--following">
					{{#if @root.flags.xFollowButton}}
						{{{
							x local="../x-dash/components/x-follow-button"
							component="FollowButton"
							isSelected=setFollowButtonStateToSelected
							conceptId=id
						}}}
					{{else}}
						{{>
							n-myft-ui/myft/templates/follow
							conceptId=id
							name=name
						}}
					{{/if}}
				</div>
			</div>
			{{/ifAll}}
		</header>
		{{#if items.length}}
			<div class="topic-card__myft-content">
				<ul class="topic-card__concept-articles">
					{{#items}}
						<li class="topic-card__concept-article {{#ifEquals hasBeenRead true}}topic-card__concept-article--read{{/ifEquals}}{{#ifEquals type 'video'}} topic-card__concept-article--video{{/ifEquals}}">
							<a
								class="topic-card__concept-article-link"
								href="{{url}}{{#unless ../isFollowing}}?tagToFollow={{../conceptId}}{{/unless}}{{../referrerTracking}}"
								data-trackable="article"
							>
								<span class="topic-card__classifier-gap">
									<span class="topic-card__concept-article-text">
										{{title}}
									</span>
								</span>

								<span class="topic-card__concept-article-date">
									<time
										data-o-component="o-date"
										class="o-date"
										data-o-date-format="time-ago-abbreviated"
										datetime="{{publishedDate}}">
									</time>
								</span>

								{{#if isPremium}}
									<span class="topic-card__classifier">Premium</span>
								{{/if}}
							</a>

						</li>
					{{/items}}
				</ul>
			</div>
		{{else}}
			<div class="topic-card__myft-content">
				{{#unless flags.myftGroupEmptyTopics}}
					<p class="topic-card__concept-empty">
						{{#if nTopicCardEmptyMessage}}
							{{nTopicCardEmptyMessage}}
						{{else}}
							No new articles on this topic
						{{/if}}
					</p>
					<p class="topic-card__concept-empty">
						<a class="topic-card__concept-empty-link" data-trackable="empty-link" href={{url}}>
							See more on this topic
						</a>
					</p>
				{{/unless}}
			</div>
		{{/if}}

		<footer class="topic-card__myft-footer">
			{{#if excessItems.length }}
			<p class="topic-card__excess">
				<a class="topic-card__excess-link" href="{{url}}" data-trackable="excess-stories-link" aria-label="Go to list of all articles about {{#if prefLabel}}{{prefLabel}}{{else}}{{name}}{{/if}}">
					{{ excessItems.length }} more stor{{#ifEquals excessItems.length 1 }}y{{else}}ies{{/ifEquals}}
				</a>
			</p>
			{{/if}}
			{{#unless items.length }}
			<p class="topic-card__excess">0 stories</p>
			{{/unless}}
			<div class="topic-card__myft-btn topic-card__myft-btn--alerts">
				{{> n-myft-ui/components/instant-alert/instant-alert conceptId=id name=name }}
			</div>
			{{#if ../isFollowing}}
				{{> n-myft-ui/components/pin-button/pin-button}}
			{{/if}}
		</footer>
	</section>
{{/concept}}
