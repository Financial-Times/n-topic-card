{{#concept @this}}
<section data-trackable="concept"
	aria-label="{{name}}"
	{{#if responsiveGrids}}data-o-grid-colspan="{{responsiveGrids}}"{{/if}}
	class="
		topic-card__myft
		{{#unless items.length}}topic-card--empty {{#if flags.myftGroupEmptyTopics}}myft-grouped-topic{{/if}}{{/unless}}
		{{#if lazyLoadImages}} topic-card--lazy-loading-images{{/if}}
		{{classes}}"
	{{#if prioritised}}data-prioritised{{/if}}>
		<header class="topic-card__myft-header">
			<p class="topic-card__myft-title">
				<a class="topic-card__concept-link" href="{{url}}" data-trackable="concept-link" aria-label="Go to list of all articles about {{#if prefLabel}}{{prefLabel}}{{else}}{{name}}{{/if}}">
					{{#if prefLabel}}{{prefLabel}}{{else}}{{name}}{{/if}}
				</a>
			</p>

			{{#ifAll flags flags.myFtApiWrite}}
			<div class="topic-card__myft-meta">
				<div class="topic-card__myft-btn topic-card__myft-btn--following">{{> n-myft-ui/components/follow-button/follow-button conceptId=id name=name extraClasses="topic-card__concept-follow" }}</div>
			</div>
			{{/ifAll}}
		</header>
		{{#if items.length}}
			<div class="topic-card__myft-content">
				<ul class="topic-card__concept-articles">
					{{#items}}
						{{>n-topic-card/templates/concept-article}}
					{{/items}}
				</ul>
			</div>
		{{else}}
			<div class="topic-card__myft-content">
				{{#unless flags.myftGroupEmptyTopics}}
					<p class="topic-card__concept-empty">
						{{#if nTopicCardEmptyMessage}}
							{{nTopicCardEmptyMessage}}
						{{else}}
							No new articles on this topic
						{{/if}}
					</p>
					<p class="topic-card__concept-empty">
						<a class="topic-card__concept-empty-link" data-trackable="empty-link" href={{url}}>
							See more on this topic
						</a>
					</p>
				{{/unless}}
			</div>
		{{/if}}

		<footer class="topic-card__myft-footer">
			{{#if excessItems.length }}
			<p class="topic-card__excess">
				<a class="topic-card__excess-link" href="{{url}}" data-trackable="excess-stories-link" aria-label="Go to list of all articles about {{#if prefLabel}}{{prefLabel}}{{else}}{{name}}{{/if}}">
					{{ excessItems.length }} more stor{{#ifEquals excessItems.length 1 }}y{{else}}ies{{/ifEquals}}
				</a>
			</p>
			{{/if}}
			{{#unless items.length }}
			<p class="topic-card__excess">0 stories</p>
			{{/unless}}
			<div class="topic-card__myft-btn topic-card__myft-btn--alerts">
				{{> n-myft-ui/components/instant-alert/instant-alert conceptId=id name=name }}
			</div>
			{{#if ../isFollowing}}
				{{> n-myft-ui/components/pin-button/pin-button}}
			{{/if}}
		</footer>
	</section>
{{/concept}}
